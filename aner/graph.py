#! /usr/bin/env python

import matplotlib.pyplot as plt

old_points=[(10, 3.447829008102417), (10, 6.9711179733276367), (10, 3.8879549503326416), (20, 16.83785605430603), (20, 9.1276640892028809), (20, 6.924872875213623), (40, 10.052677869796753), (40, 15.406966924667358), (40, 12.609266996383667), (80, 37.466417789459229), (80, 16.87383508682251), (80, 9.9690389633178711), (160, 22.033434152603149), (160, 30.771044015884399), (160, 28.819804906845093), (320, 36.578069925308228), (320, 38.153518915176392), (320, 30.657109975814819), (640, 46.011334180831909), (640, 33.204931020736694), (640, 29.617621898651123), (1280, 44.379501104354858), (1280, 34.726276874542236), (1280, 24.7622389793396), (2560, 49.307976961135864), (2560, 29.368695974349976), (2560, 39.308779001235962), (5120, 84.475109815597534), (5120, 80.041890859603882), (5120, 30.001122951507568), (10240, 40.746651887893677), (10240, 42.723640918731689), (10240, 54.582288980484009)]

points=[(10, 28.00971508026123), (10, 10.349796056747437), (10, 22.106257915496826), (10, 17.309290885925293), (10, 16.07669997215271), (10, 2.7058770656585693), (10, 9.4822051525115967), (10, 7.0533599853515625), (10, 15.005450963973999), (10, 15.840749025344849), (10, 5.1158361434936523), (10, 9.3048510551452637), (10, 13.065435171127319), (10, 15.244751214981079), (10, 4.197376012802124), (10, 3.1582980155944824), (10, 3.5642731189727783), (10, 2.5740211009979248), (10, 1.981374979019165), (10, 2.6153829097747803), (10, 5.6612768173217773), (10, 2.2787609100341797), (10, 4.405771017074585), (10, 2.0610990524291992), (20, 6.2098298072814941), (20, 3.1193110942840576), (20, 5.131756067276001), (20, 5.1102337837219238), (20, 5.7454040050506592), (20, 5.4002668857574463), (30, 5.0452620983123779), (30, 6.5524899959564209), (30, 6.8687419891357422), (30, 6.4066331386566162), (30, 4.5214440822601318), (30, 8.9799489974975586), (30, 7.9790000915527344), (30, 8.5311751365661621), (30, 7.2951531410217285), (30, 7.1632819175720215), (30, 6.8635640144348145), (30, 8.6079349517822266), (40, 11.033653974533081), (40, 8.1896078586578369), (40, 9.1897017955780029), (40, 3.3763139247894287), (40, 11.208493947982788), (40, 10.049134969711304), (50, 9.3374638557434082), (50, 9.6683111190795898), (50, 21.150171041488647), (50, 10.929644107818604), (50, 15.300796985626221), (50, 9.0212850570678711), (70, 12.877871036529541), (70, 15.27287483215332), (70, 13.859803199768066), (70, 8.7300820350646973), (70, 9.559669017791748), (70, 10.648999929428101), (90, 13.828871965408325), (90, 18.862395048141479), (90, 13.787360906600952), (90, 13.301443815231323), (90, 10.714741945266724), (90, 11.495879888534546), (110, 17.020571231842041), (110, 15.493268013000488), (110, 19.578270196914673), (110, 10.177753925323486), (110, 13.359689950942993), (110, 13.195235013961792), (140, 17.281502962112427), (140, 15.48327898979187), (140, 25.72834587097168), (140, 19.179214954376221), (140, 14.024669885635376), (140, 18.273912906646729), (180, 20.648801803588867), (180, 22.428745031356812), (180, 21.25019097328186), (180, 14.724476099014282), (180, 14.615563869476318), (180, 16.750505208969116), (220, 13.202579021453857), (220, 14.607202768325806), (220, 16.366873979568481), (220, 14.808903932571411), (220, 19.007447004318237), (220, 15.597527027130127), (280, 21.883440017700195), (280, 24.295645952224731), (280, 22.090413093566895), (280, 24.608587026596069), (280, 21.178463935852051), (280, 17.668714046478271), (350, 13.99216890335083), (350, 20.519910097122192), (350, 17.02423095703125), (350, 22.636394023895264), (350, 16.67412805557251), (350, 15.941898822784424), (440, 19.147439956665039), (440, 16.730163812637329), (440, 20.930294036865234), (440, 19.085351943969727), (440, 18.490764856338501), (440, 15.602039813995361), (550, 21.610872030258179), (550, 18.25885796546936), (550, 18.351343870162964), (550, 12.886787176132202), (550, 16.612756013870239), (550, 32.971781015396118), (690, 51.532979965209961), (690, 29.791320085525513), (690, 30.198098182678223), (690, 19.489217042922974), (690, 13.861278057098389), (690, 18.191017866134644), (860, 20.225297927856445), (860, 13.150913953781128), (860, 17.334676027297974), (860, 16.350522041320801), (860, 16.607703924179077), (860, 13.670732021331787), (1080, 14.56939697265625), (1080, 11.505424022674561), (1080, 9.1301848888397217), (1080, 9.8818709850311279), (1080, 7.4728889465332031), (1080, 5.3161189556121826), (1350, 7.2305660247802734), (1350, 6.5642080307006836), (1350, 5.7889459133148193), (1350, 5.3600790500640869), (1350, 5.6954429149627686), (1350, 5.3381381034851074), (1690, 5.2197709083557129), (1690, 5.0663580894470215), (1690, 5.346235990524292), (1690, 3.4195878505706787), (1690, 3.2029650211334229), (1690, 4.3010170459747314), (2110, 4.191619873046875), (2110, 4.415579080581665), (2110, 3.8745081424713135), (2110, 5.6353499889373779), (2110, 7.1454019546508789), (2110, 7.9583768844604492), (2640, 9.0792970657348633), (2640, 5.2716190814971924), (2640, 5.6038761138916016), (2640, 3.7630178928375244), (2640, 4.0244698524475098), (2640, 4.6359119415283203), (3300, 3.5903019905090332), (3300, 5.2262740135192871), (3300, 2.4829490184783936), (3300, 5.3064620494842529), (3300, 4.1054229736328125), (3300, 3.5302219390869141), (4130, 4.9322710037231445), (4130, 4.3896739482879639), (4130, 3.8637998104095459), (4130, 4.0800549983978271), (4130, 4.158729076385498), (4130, 3.4434030055999756), (5160, 4.3104190826416016), (5160, 5.6506810188293457), (5160, 3.9309279918670654), (5160, 4.078765869140625), (5160, 3.9758028984069824), (5160, 4.3955390453338623), (6460, 5.6416871547698975), (6460, 4.9606828689575195), (6460, 4.2734551429748535), (6460, 5.5019741058349609), (6460, 4.4579951763153076), (6460, 4.4284560680389404), (8070, 5.2274820804595947), (8070, 4.7690660953521729), (8070, 5.1954090595245361), (8070, 5.5541768074035645), (8070, 5.0795319080352783), (8070, 5.1369559764862061), (10090, 5.8275752067565918), (10090, 6.2358939647674561), (10090, 5.7989499568939209), (10090, 5.7773480415344238), (10090, 5.6315581798553467), (10090, 5.9098279476165771), (12620, 8.0498921871185303), (12620, 7.0977950096130371), (12620, 7.4726529121398926), (12620, 6.9407811164855957), (12620, 7.0956659317016602), (12620, 6.8774709701538086), (15770, 7.9774711132049561), (15770, 8.3140518665313721), (15770, 8.6096351146697998), (15770, 8.5040960311889648), (15770, 8.3074169158935547), (15770, 8.8546819686889648), (19720, 10.629000902175903), (19720, 12.693510055541992), (19720, 10.132599115371704), (19720, 11.078934907913208), (19720, 10.767902851104736), (19720, 11.480281829833984), (24650, 13.66067910194397), (24650, 12.295808076858521), (24650, 12.582987070083618), (24650, 12.929937839508057), (24650, 12.664340019226074), (24650, 12.059772968292236), (30810, 15.909191131591797), (30810, 16.114585876464844), (30810, 17.105340957641602), (30810, 15.307504892349243), (30810, 16.478307008743286), (30810, 15.533169031143188), (38510, 19.398538112640381), (38510, 18.522829055786133), (38510, 19.263552904129028), (38510, 19.35210108757019), (38510, 20.041459083557129), (38510, 18.450644969940186), (48140, 22.932206153869629), (48140, 24.429893016815186), (48140, 23.31581711769104), (48140, 23.222923040390015), (48140, 23.9945969581604), (48140, 23.335227012634277), (60180, 29.939602851867676), (60180, 29.254971027374268), (60180, 28.989282846450806), (60180, 30.104376077651978), (60180, 28.928806066513062), (60180, 28.651451826095581), (75230, 36.331878185272217), (75230, 36.457886934280396), (75230, 36.018987894058228), (75230, 35.749584197998047), (75230, 37.177095890045166), (75230, 36.342601776123047), (94030, 44.931871175765991), (94030, 44.186162948608398), (94030, 44.871135950088501), (94030, 44.949649095535278), (94030, 44.970602989196777), (94030, 47.945358037948608)]


table={}

for point in points:
    if not table.has_key(point[0]):
        table[point[0]]=[]
    table[point[0]].append(point[1])

points2= [(k,float(sum(table[k]))/(len(table[k]))) for k in table.keys()]
points2 = sorted(points2)

x=[point[0] for point in points2]
y=[point[1] for point in points2]

plt.plot(x,y,'o-')
plt.xlabel('number of characters')
plt.ylabel('Time in seconds (s)')
plt.title('Performance of AMIRA')
plt.grid(True)

plt.show()
